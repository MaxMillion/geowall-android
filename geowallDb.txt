


create schema geowall
{
	create table Social{
		idUtente varchar(6) unique,
		tokenFb  varchar(255) unique,
		tokenTw varchar(255) unique,
		primary key(idUtente),
		foreign key(idUtente) references Utente (idUtente)
		on update cascade
		on delete set null 
 		
	}

	create table Utente{
		idUtente varchar(6) primary key,
		email varchar(256) unique not null,
		pw  char(32) unique,
		img blob unique default null,
		nazione varchar(50) default null,
		citta varchar(50) default null,
		dataNascita date default null
 		
	}

	create table Messaggio{
		idMessaggio varchar(10) unique,
		idUtente varchar(6) unique not null,
		idBacheca varchar(6)not null,
		testo  varchar(140) default null,
		img blob default null,
		video blob default null,
		data date not null,
		time date not null
		primary key(idMessaggio,idUtente, idBacheca),
		foreign key(idUtente) references Utente (idUtente)
		on update cascade
		on delete set null, 
 		foreign key(idBacheca) references Bacheca (idBacheca)
		on update cascade
		on delete set null 
 		
	}

	create table Bacheca{
		idBacheca varchar(10) primary key,
		posizioneX numeric(8),
		posizioneY numeric(8),
		ultimaData date,
		ultimaOra time
 		
	}

	

}
